// Generated by CoffeeScript 1.9.2

/*!
 * @license partition-size
 * (c) sugarshin
 * License: MIT
 */

(function() {
  "use strict";
  var partition, partitionSize;

  partition = require('lodash.partition');

  module.exports = partitionSize = (function() {
    var _partitionSize;
    return _partitionSize = function(array, size, result, n) {
      if (0 >= size) {
        return array;
      }
      if (array.length <= size) {
        return [array];
      }
      if (result != null) {
        result.pop();
        partition(array, function(el, i, array) {
          return i < size;
        }).forEach(function(el, i) {
          return result.push(el);
        });
      } else {
        result = partition(array, function(el, i, array) {
          return i < size;
        });
      }
      if (n != null) {
        n++;
      } else {
        n = 1;
      }
      if (result[n].length > size) {
        return _partitionSize(result[n], size, result, n);
      } else {
        return result;
      }
    };
  })();

}).call(this);
